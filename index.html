<!DOCTYPE html>
<html class="no-js">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Kujira, Civ4 Mod Blog </title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">


<meta property="og:title" content="Kujira, Civ4 Mod Blog ">
<meta property="og:site_name" content="Kujira, Civ4 Mod Blog"/>
<meta property="og:url" content="https://gforestshade.github.io/kujira/" />
<meta property="og:locale" content="ja-JP">


<meta property="og:type" content="website" />



<link href="https://gforestshade.github.io/kujira/index.xml" rel="alternate" type="application/rss+xml" title="Kujira, Civ4 Mod Blog" />

<link rel="canonical" href="https://gforestshade.github.io/kujira/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://gforestshade.github.io/touch-icon-144-precomposed.png">
<link href="https://gforestshade.github.io/favicon.ico" rel="icon">

<meta name="generator" content="Hugo 0.22.1" />



  <link rel="stylesheet" href="https://gforestshade.github.io/kujira/assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://gforestshade.github.io/kujira/assets/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://gforestshade.github.io/kujira/assets/css/style.css">
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow-night-eighties.min.css">
  <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
</head>
<body class="bg-faded">
    <nav class="navbar navbar-expand-md navbar-light blog-header">
  <div class="container">
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#exCollapsingNavbar2"
        aria-controls="exCollapsingNavbar2" aria-expanded="false" aria-label="Toggle navigation">
      &#9776;
    </button>
    <div class="collapse navbar-collapse" id="exCollapsingNavbar2">
      <a class="navbar-brand" href="https://gforestshade.github.io/kujira/">Kujira, Civ4 Mod Blog</a>
      <ul class="nav navbar-nav">
        
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://gforestshade.github.io/kujira/tags/">
              <i class='fa fa-tags'></i>
              <span>TAGS</span>
          </a>
        </li>
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://gforestshade.github.io/kujira/categories/">
              <i class='fa fa-folder-open'></i>
              <span>CATEGORIES</span>
          </a>
        </li>
        
          <li class="nav-item">
          <a class="nav-link menu-item" href="https://gforestshade.github.io/kujira/page/license/">
              <i class='fa fa-file'></i>
              <span>LICENSE</span>
          </a>
        </li>
        
      </ul>
    </div>
  </div>
</nav>

  <div class="container p-a-0">
    
    <div class="row m-l-0 m-r-0">
      <div class="col-xs-12 col-md-9">
        
        
          
            <div class="row">
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
                  <div>
  

  <h1 class="post-title">CvGameCoreDll.dllの作り方
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2018-02-04">4 Feb, 2018</time>

    
    &middot; 1 Minute Read
    &middot; 419 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/c&#43;&#43;">C&#43;&#43;</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%82%b3%e3%83%a9%e3%83%a0">コラム</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/howtocompile/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

                  <div class="content">
  

<h1 id="筆者の環境">筆者の環境</h1>

<ul>
<li>Windows 10 64bit<br /></li>
<li>Civ4 BtS 3.19 パッケージ版<br />
<br /></li>
</ul>

<h1 id="必要なもの">必要なもの</h1>

<h2 id="microsoft-visual-c-toolkit-2003">Microsoft Visual C++ Toolkit 2003</h2>

<p><a href="http://kael.civfanatics.net/files/VCToolkitSetup.exe">http://kael.civfanatics.net/files/VCToolkitSetup.exe</a></p>

<h2 id="multi-threading-librarires">Multi Threading Librarires</h2>

<p><a href="http://kael.civfanatics.net/files/msvcrt.lib">http://kael.civfanatics.net/files/msvcrt.lib</a><br />
<a href="http://kael.civfanatics.net/files/msvcprt.lib">http://kael.civfanatics.net/files/msvcprt.lib</a><br />
C:\Program Files (x86)\Microsoft Visual C++ Toolkit 2003\lib にコピー</p>

<h2 id="windows-7-sdk">Windows 7 SDK</h2>

<p><a href="http://download.microsoft.com/download/F/1/0/F10113F5-B750-4969-A255-274341AC6BCE/GRMSDKX_EN_DVD.iso">http://download.microsoft.com/download/F/1/0/F10113F5-B750-4969-A255-274341AC6BCE/GRMSDKX_EN_DVD.iso</a><br />
古いPSDK-x86.exeがWindows10でインストールできないようなので<br />
新し目のSDKをISOからインストールする、64bit版はGRMSDKX_EN_DVD.iso</p>

<h2 id="makefile-2-3">MakeFile 2.3</h2>

<p><a href="https://forums.civfanatics.com/attachments/makefile_2-3-zip.367602/">https://forums.civfanatics.com/attachments/makefile_2-3-zip.367602/</a></p>

<h1 id="やってみる">やってみる</h1>

<p>MODSフォルダにsdk_testというフォルダを作る</p>

<p>sdk_testの中にsdkというフォルダとAssetsというフォルダを作る</p>

<p>C:\Program Files (x86)\CYBERFRONT\Sid Meier&rsquo;s Civilization 4(J)\Beyond the Sword(J)\CvGameCoreDLL<br />
の中にあるファイルとフォルダをsdkの中にコピーする</p>

<p>Makefileもsdkの中にコピーする</p>

<h2 id="かきかえる">かきかえる</h2>

<pre><code class="language-makefile">TOOLKIT=$(PROGRAMFILES)\Microsoft Visual C++ Toolkit 2003
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; ここから
PSDK=C:\Program Files\Microsoft SDKs\Windows\v7.1
PATH=$(PATH);C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\bin
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ここまで
## Uncomment to have newly compiled dlls copied to your mod's Assets directory
YOURMOD=..
</code></pre>

<pre><code class="language-makefile">#### INCLUDES ####
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ここから
GLOBAL_INCS=/I&quot;$(TOOLKIT)/include&quot; /I&quot;$(PSDK)/Include&quot; /I&quot;$(PSDK)/Include/mfc&quot; /I&quot;C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\include&quot;
&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; ここまで
</code></pre>

<p>次の内容でbuild.batをつくり、sdkフォルダに入れる</p>

<pre><code>@echo off
rem Microsoft SDK 7.1の場合
set NMAKE_BIN=&quot;C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\bin&quot;
cd /d %~dp0

set TARGET=Release
%NMAKE_BIN%\nmake

pause
</code></pre>

<h2 id="実行">実行</h2>

<p>build.batをダブルクリックして実行</p>

<p>Assetsの中にCvGameCoreDll.dllができている</p>

</div>

              </div>
            </div>
          
        
          
            <div class="row">
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
                  <div>
  
  
    
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/kujira_paleblue1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: いらすとや</p>
          
      
    
      
    
      
    
      
    
  


  <h1 class="post-title">はじめに
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2018-01-27">27 Jan, 2018</time>

    
    &middot; 2 Minute Read
    &middot; 863 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%af%e3%81%98%e3%82%81%e3%81%ab">はじめに</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e7%9b%ae%e6%ac%a1">目次</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/hajimeni/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

                  <div class="content">
  

<p>このサイトは、Civ4のMOD開発情報を発信していくブログです。</p>

<p>主に、いままで日本語情報が少なかったPython、SDK、グラフィック、サウンドなどの<br />
MODを作る際の情報を筆者の備忘録がわりに書き留めています。</p>

<p>MODを作りたい人向けの情報であり、MODで遊んだり導入したりしたい人向けではないことを<br />
あらかじめご了承ください。</p>

<h1 id="講座シリーズ">講座シリーズ</h1>

<p>はじめてPythonを触る人向けの講座風コンテンツです。<br />
PythonでもMODやりたいけどどこからはじめたらいいかよくわからない&hellip;&hellip;<br />
という方はここから読むことをお勧めします。</p>

<h2 id="第１期シリーズ-はじめてのpythonmod">第１期シリーズ・はじめてのPythonMOD</h2>

<p>順番に読んでいけばPythonMODに入門できる、そんな内容を目指しました。</p>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/getstarted1/">その１</a><br />
PythonでMOD作成する準備 ～ 図書館自動建設<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/getstarted2/">その２</a><br />
えこひいき図書館・首都だけ/マリだけ・if文・Player・CivilizationInfo<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/getstarted3/">その３</a><br />
防衛志向・ユニット生成・関数の使い方/作り方<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/getstarted4/">その４</a><br />
取得済み技術・and/or/else<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/getstarted5/">その５</a><br />
ダン強化・都市上にいる全ユニットに昇進・for文<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/getstarted6/">その６</a><br />
XMLで新しい建造物を作る<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/getstarted7/">その７</a><br />
草原化・マップのラップ・Map・Plot・リストとforの応用<br />
<br /></li>
</ul>

<h2 id="第２期シリーズ-それからのpython">第２期シリーズ・それからのPython</h2>

<p>もっと欲張りたい人のための、中級編です。</p>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy1/">その１</a><br />
ゲーム画面にメッセージ表示・変数と値・型・Unicode文字列<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy2/">その２</a><br />
年代の表示・フォーマット文字列・抽象化<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy3/">その３</a><br />
クラス・メソッド・インスタンス・コンストラクタ<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy4/">その４</a><br />
クラスの利用・ゲームの要素を操作する方法<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy5/">その５</a><br />
毎ターン・駐留したユニット・変数のスコープ<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy6/">その６</a><br />
PyPlayer・複数ファイル・モジュール・文明の持つ全ユニット<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy7/">その７</a><br />
昇進の作成<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy8/">その８</a><br />
オブジェクト・リスト操作・リスト内包表記・ジェネレータ式<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy9/">その９</a><br />
クラス変数・リストの連結・filter()<br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy10/">その10</a><br />
スペル完成<br />
<br /></li>
</ul>

<h1 id="mmd-to-civ4-プロジェクト">MMD to Civ4 プロジェクト</h1>

<p>なんとかもっといろいろなユニットをシド星に召喚できないかと<br />
試行錯誤していくプロジェクトです。</p>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/mmd_to_nif/">モデルの変換</a><br /></li>
<li><a href="https://gforestshade.github.io/kujira/post/nifanimation/">リギング</a><br />
<br />
<br /></li>
</ul>

</div>

              </div>
            </div>
          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_pink1_1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/135366503@N05/31176873090/">&lsquo;I love nature and nature loves me &hellip;..&rsquo; by CLAUDIA DEA</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/secondpy10/">
  それからのPython 10

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-12-30">30 Dec, 2017</time>

    
    &middot; 9 Minute Read
    &middot; 4217 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%9d%e3%82%8c%e3%81%8b%e3%82%89%e3%81%aepython">それからのPython</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/secondpy10/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy9/">その９</a>のつづき<br /></li>
<li>簡単なスペルの仕組みをつくってみる<br /></li>
<li>４部作のうちの４回目<br /></li>
<li>ついに各スペルの実装へ<br />
<br /></li>
</ul>

<h1 id="湧き水">湧き水</h1>

<p>お待たせしました！個別のスペル処理です。まず湧き水を見てみましょう。<br />
</p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/secondpy10/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_pink1_1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/135366503@N05/31176873090/">&lsquo;I love nature and nature loves me &hellip;..&rsquo; by CLAUDIA DEA</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/secondpy9/">
  それからのPython 9

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-12-30">30 Dec, 2017</time>

    
    &middot; 9 Minute Read
    &middot; 4126 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%9d%e3%82%8c%e3%81%8b%e3%82%89%e3%81%aepython">それからのPython</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/secondpy9/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy8/">その８</a>のつづき<br /></li>
<li>簡単なスペルの仕組みをつくってみる<br /></li>
<li>４部作のうちの３回目・Python共通編<br /></li>
<li>クラスを活用する<br />
<br /></li>
</ul>

<h1 id="スペル情報クラス">スペル情報クラス</h1>

<p>スペル情報クラスです。BuildingInfoやUnitInfoのスペル版のようなイメージで、<br />
このクラスを通してスペルのいろいろな情報を取得することができるようにします。<br />
</p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/secondpy9/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_pink1_1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/135366503@N05/31176873090/">&lsquo;I love nature and nature loves me &hellip;..&rsquo; by CLAUDIA DEA</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/secondpy8/">
  それからのPython 8

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-12-30">30 Dec, 2017</time>

    
    &middot; 12 Minute Read
    &middot; 5646 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%9d%e3%82%8c%e3%81%8b%e3%82%89%e3%81%aepython">それからのPython</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/secondpy8/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy7/">その７</a>のつづき<br /></li>
<li>簡単なスペルの仕組みをつくってみる<br /></li>
<li>４部作のうちの２回目・Python準備編<br /></li>
<li>オブジェクト<br /></li>
<li>リスト操作<br />
<br /></li>
</ul>

<h1 id="pythonファイル">Pythonファイル</h1>

<p>Python側のファイル構成はいつもの感じです。<br />
EntryPoints\CvEventInterface.pyはいずれかのKujira MODから使いまわします。<br />
忘れてしまった方は<a href="https://gforestshade.github.io/kujira/src/prefab/CvEventInterface.py">こちら</a>にも置いてあります。</p>

<pre><code class="language-plain">└─kujira_promospell
    └─Assets
        ├─Python
        │  ├─KujiraEventManager.py
        │  │
        │  └─Entrypoints
        │      └─CvEventInterface.py
        │
        └─XML
            ├─Text
            │  └─Text_Kujira.xml
            │
            └─Units
                └─CIV4PromotionInfos.xml
</code></pre>

<p></p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/secondpy8/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_pink1_1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/135366503@N05/31176873090/">&lsquo;I love nature and nature loves me &hellip;..&rsquo; by CLAUDIA DEA</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/secondpy7/">
  それからのPython 7

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-12-30">30 Dec, 2017</time>

    
    &middot; 8 Minute Read
    &middot; 3797 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%9d%e3%82%8c%e3%81%8b%e3%82%89%e3%81%aepython">それからのPython</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/secondpy7/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy6/">その６</a>のつづき<br /></li>
<li>簡単なスペルの仕組みをつくってみる<br /></li>
<li>４部作のうちの１回目・XML編<br />
<br /></li>
</ul>

<h1 id="設計しよう">設計しよう</h1>

<p>実際のMODの例として、簡単なスペルをつくっていきたいと思います。<br />
簡単のために、以下の仕様でつくることにします。</p>

<ul>
<li>スペルと昇進を1対1で対応させる<br /></li>
<li>発動条件は昇進を取得したとき一回きりとする<br /></li>
<li>スペル昇進を取れるのは火器ユニットとする<br /></li>
<li>具体的なスペル効果は以下の3種類とする<br /></li>
<li>湧き水：砂漠が平原に変化する<br /></li>
<li>毒散布：周囲1マスの敵対ユニットに弱体化昇進『毒』(戦闘力-20%)を与える<br /></li>
<li>火炎幕：周囲1マスの敵対ユニットに最大HPの10%のダメージを与える<br />
ただしこれによって最大HPの60%を切ることはないようにする<br /></li>
<li>湧き水において砂漠以外で発動したときは不発になるが、昇進は戻ってこないようにする<br />
<br /></li>
</ul>

<p></p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/secondpy7/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/green1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/secondpy_ex3/">
  付録：継承２

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-12-05">5 Dec, 2017</time>

    
    &middot; 11 Minute Read
    &middot; 5356 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e4%bb%98%e9%8c%b2">付録</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/secondpy_ex3/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      はじめに 付録：継承１のつづき 続・継承について 今回は理論回です。この回に出てくるコードはすべてMODではなく ただのPythonプログラムになっ
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/secondpy_ex3/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/green1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/secondpy_ex2/">
  付録：継承１

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-12-04">4 Dec, 2017</time>

    
    &middot; 12 Minute Read
    &middot; 5574 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e4%bb%98%e9%8c%b2">付録</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/secondpy_ex2/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      はじめに 継承について 今回は理論回です。この回に出てくるコードはすべてMODではなく ただのPythonプログラムになっていますので、paiza
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/secondpy_ex2/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_pink1_1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/135366503@N05/31176873090/">&lsquo;I love nature and nature loves me &hellip;..&rsquo; by CLAUDIA DEA</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/secondpy6/">
  それからのPython 6

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-11-17">17 Nov, 2017</time>

    
    &middot; 10 Minute Read
    &middot; 4546 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%9d%e3%82%8c%e3%81%8b%e3%82%89%e3%81%aepython">それからのPython</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/secondpy6/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy5/">その５</a>のつづき<br /></li>
<li>もっともっとクラスをつかう<br /></li>
<li>別ファイルからもつかう<br />
<br /></li>
</ul>

<h1 id="コードを読む">コードを読む</h1>

<p>Civ4からあらかじめ提供されているクラスはまだまだあります。<br />
今回はその中から比較的簡単で読みやすいクラスを例に<br />
実際にコードを読み解いてみたいと思います。<br />
</p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/secondpy6/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/green1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/readgetunitlist/">
  付録：getUnitList()

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-11-16">16 Nov, 2017</time>

    
    &middot; 4 Minute Read
    &middot; 2003 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e4%bb%98%e9%8c%b2">付録</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/readgetunitlist/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      はじめに それからのPython その６の付録 全ユニットを列挙するには 読む 早速 (略)\Beyond the Sword(J)\Assets\Python
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/readgetunitlist/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_pink1_1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/135366503@N05/31176873090/">&lsquo;I love nature and nature loves me &hellip;..&rsquo; by CLAUDIA DEA</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/secondpy5/">
  それからのPython 5

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-11-04">4 Nov, 2017</time>

    
    &middot; 9 Minute Read
    &middot; 4385 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%9d%e3%82%8c%e3%81%8b%e3%82%89%e3%81%aepython">それからのPython</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/secondpy5/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy4/">その４</a>のつづき<br /></li>
<li>もっとクラスをつかう<br /></li>
<li>変数のスコープ<br />
<br /></li>
</ul>

<h1 id="インスタンスの中のインスタンス">インスタンスの中のインスタンス</h1>

<p>インスタンス変数にクラス型の変数を使う例を見てみましょう。</p>

<p>題材は、ちょっと賢い建造物クラス<code>KujiraBuilding</code>と、<br />
それを用いて<br />
《建造された都市で生産されたユニットだけでなく、<br />
その都市で立ち止まったユニットにも衛生兵Ⅰを付与する赤十字》<br />
をつくることです。<br />
</p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/secondpy5/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_pink1_1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/135366503@N05/31176873090/">&lsquo;I love nature and nature loves me &hellip;..&rsquo; by CLAUDIA DEA</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/secondpy4/">
  それからのPython 4

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-10-23">23 Oct, 2017</time>

    
    &middot; 9 Minute Read
    &middot; 4306 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%9d%e3%82%8c%e3%81%8b%e3%82%89%e3%81%aepython">それからのPython</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/secondpy4/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy3/">その３</a>のつづき<br /></li>
<li>クラス巡り<br />
<br /></li>
</ul>

<h1 id="提供されているクラスを探訪してみる">提供されているクラスを探訪してみる</h1>

<p>新しいクラスをつくる体験をしたところで、<br />
既存のクラスを使ってみる体験もしてみます。<br />
<a href="http://civ4bug.sourceforge.net/PythonAPI/index.html">APIリファレンス</a>を見ながら、すすめていきましょう。</p>

<p>左上フレームにリストされているのが、クラス名(型名)です。<br />
ためしにCyCityをクリックしてみましょう。<br />
すると、右フレームにCyCity型のインスタンスメソッドがずらずらーっと出てきます。<br />
CyCity型のメソッドだけでもずいぶん数があります。<br />
流し読みしつつ、気になったのを見ていきましょう。</p>

<p>なお、色付き文字になっているのは<strong>型</strong>です。例えば、<br />
BOOL - ブール型(真と偽の2択)<br />
INT - 数値型<br />
VOID - なし(戻り値を返さないもの)<br />
茶色 - なにかのID(基本的なふるまいはINTと同じ)<br />
緑色 - クラス型<br />
こんな具合です。<br />
</p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/secondpy4/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_pink1_1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/135366503@N05/31176873090/">&lsquo;I love nature and nature loves me &hellip;..&rsquo; by CLAUDIA DEA</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/secondpy3/">
  それからのPython 3

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-10-21">21 Oct, 2017</time>

    
    &middot; 7 Minute Read
    &middot; 3217 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%9d%e3%82%8c%e3%81%8b%e3%82%89%e3%81%aepython">それからのPython</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/secondpy3/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy2/">その２</a>のつづき<br /></li>
<li>クラス<br />
<br /></li>
</ul>

<h1 id="準備">準備</h1>

<p>kujira_classというMODを新しく作ります。</p>

<h2 id="フォルダ構成">フォルダ構成</h2>

<pre><code class="language-plain">└─kujira_class
    └─Assets
        └─Python
            │─KujiraEventManager.py
            │
            └─Entrypoints
                 └─CvEventInterface.py
</code></pre>

<p></p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/secondpy3/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_pink1_1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/135366503@N05/31176873090/">&lsquo;I love nature and nature loves me &hellip;..&rsquo; by CLAUDIA DEA</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/secondpy2/">
  それからのPython 2

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-10-20">20 Oct, 2017</time>

    
    &middot; 11 Minute Read
    &middot; 5084 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%9d%e3%82%8c%e3%81%8b%e3%82%89%e3%81%aepython">それからのPython</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/secondpy2/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/secondpy1/">その１</a>のつづき<br /></li>
<li>いろいろ表示してみる<br />
<br /></li>
</ul>

<h1 id="4000年">-4000年</h1>

<p><code>gc.getGame().getGameTurnYear()</code>により現在の年を取得します。<br />
これによって得られる値は数値型ですから、フォーマット文字列により埋め込んで<br />
Unicode文字列を作り、表示してあげます。</p>

<p>コードはこうなります&hellip;<br />
</p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/secondpy2/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_pink1_1024x200.png" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/135366503@N05/31176873090/">&lsquo;I love nature and nature loves me &hellip;..&rsquo; by CLAUDIA DEA</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/secondpy1/">
  それからのPython 1

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-10-17">17 Oct, 2017</time>

    
    &middot; 8 Minute Read
    &middot; 3701 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%9d%e3%82%8c%e3%81%8b%e3%82%89%e3%81%aepython">それからのPython</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/secondpy1/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<h2 id="これは何か">これは何か</h2>

<p>これは、<br />
「はじめてのPythonMOD」シリーズの続きです。<br />
もうちょっとPythonの書き方について勉強して、<br />
より思い通りに記述できるようになろう、というのが大きな目的です。</p>

<h2 id="これは何でないか">これは何でないか</h2>

<p>これは、前シリーズよりもさらに技術的な解説、Pythonの文法の解説に偏重しています。<br />
また、「はじめてのPythonMOD」程度のMOD制作経験を前提としています。<br />
コピペですぐ動くコードはあまりないかもしれません。</p>

<p></p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/secondpy1/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_yellow1_1024x200.jpg" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/132803717@N02/27004253005/">&lsquo;Choice&rsquo; by Seán Mackey</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/getstarted7/">
  はじめてのPythonMOD 7

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-08-07">7 Aug, 2017</time>

    
    &middot; 14 Minute Read
    &middot; 6782 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%af%e3%81%98%e3%82%81%e3%81%a6%e3%81%aepythonmod">はじめてのPythonMOD</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/getstarted7/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/getstarted6/">その６</a>のつづき<br /></li>
<li>XMLとPythonの合わせ技・Python編<br />
<br /></li>
</ul>

<h1 id="python">Python</h1>

<p>残った効果「都市圏内をすべて草原化する」なんてことは<br />
XMLでできるはずもありません。Pythonで実装していきましょう。</p>

<h2 id="構想">構想</h2>

<p>いつもどおり、「いつ・どういう条件で・何をするか」を明らかにする必要があります。<br />
「建造物が建ったとき」「それが肥沃化の神殿であれば」まではすぐにわかります。<br />
「都市圏内を草原化する」&hellip;&hellip;&hellip;&hellip;都市圏内とは何でしょうか？</p>

<p></p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/getstarted7/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_yellow1_1024x200.jpg" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/132803717@N02/27004253005/">&lsquo;Choice&rsquo; by Seán Mackey</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/getstarted6/">
  はじめてのPythonMOD 6

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-08-06">6 Aug, 2017</time>

    
    &middot; 7 Minute Read
    &middot; 3054 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%af%e3%81%98%e3%82%81%e3%81%a6%e3%81%aepythonmod">はじめてのPythonMOD</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/getstarted6/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/getstarted5/">その５</a>のつづき<br /></li>
<li>XMLとPythonの合わせ技・XML編<br /></li>
<li>あくまでPythonのチュートリアルなので、XMLの詳しい話にはあまり踏み入りません<br />
<br /></li>
</ul>

<h1 id="構想">構想</h1>

<p>これまでは既存の動作を変更してばかりでした。<br />
Pythonでしかできない効果を持った新しい建造物を作りましょう！<br />
とりあえず&rdquo;いつもの&rdquo;を作ります。</p>

<pre><code class="language-plain">└─kujira_fert
    └─Assets
        └─Python
            ├─KujiraEventManager.py
            │
            └─Entrypoints
                 └─CvEventInterface.py
</code></pre>

<p></p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/getstarted6/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_yellow1_1024x200.jpg" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/132803717@N02/27004253005/">&lsquo;Choice&rsquo; by Seán Mackey</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/getstarted5/">
  はじめてのPythonMOD 5

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-07-30">30 Jul, 2017</time>

    
    &middot; 7 Minute Read
    &middot; 3326 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%af%e3%81%98%e3%82%81%e3%81%a6%e3%81%aepythonmod">はじめてのPythonMOD</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/getstarted5/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/getstarted4/">その４</a>のつづき<br /></li>
<li>リストと繰り返し<br /></li>
<li>他のイベント<br />
<br /></li>
</ul>

<h1 id="今日のmod">今日のMOD</h1>

<h2 id="準備">準備</h2>

<p>例によって<code>kujira_for</code>というMODを作ります。<br />
<code>kujira_if</code>をフォルダごとコピーして、フォルダ名をリネームしましょう。</p>

<pre><code class="language-plain">└─kujira_for
    └─Assets
        └─Python
            │─KujiraEventManager.py
            │
            └─Entrypoints
                 └─CvEventInterface.py
</code></pre>

<h2 id="構想">構想</h2>

<p>《建造物が建設されたとき、その建造物がダンならば、<br />
　都市と同じタイル上にいる全ユニットに教練Ⅰと教練Ⅱを与えるMOD》<br />
を作りましょう。<br />
捕まえるイベントをいつもと変えているほか、ユニットへの操作を入れています。</p>

<p>バニラの建造物によくある<br />
「この都市で生産されたユニットに教練Ⅰと教練Ⅱ」<br />
との違いに注意してください。<br />
今作ろうとしているのはダンが建設完了したその瞬間に<br />
都市直上にいたユニットに影響を与える一回限りの即時的な効果です。</p>

<p></p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/getstarted5/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_yellow1_1024x200.jpg" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/132803717@N02/27004253005/">&lsquo;Choice&rsquo; by Seán Mackey</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/getstarted4/">
  はじめてのPythonMOD 4

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-07-26">26 Jul, 2017</time>

    
    &middot; 9 Minute Read
    &middot; 4402 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%af%e3%81%98%e3%82%81%e3%81%a6%e3%81%aepythonmod">はじめてのPythonMOD</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/getstarted4/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/getstarted3/">その３</a>のつづき<br /></li>
<li>その３でMODひとつしか作れなかったので応用編の別立て<br />
<br /></li>
</ul>

<h1 id="もう少し先へ">もう少し先へ</h1>

<p>前半戦たるその３では<br />
《都市が建設されたとき、所有者の志向が防衛志向ならば、その都市のタイルに弓兵を３体即座に作成するMOD》<br />
を作りました。少し拡張してみましょう。</p>

<p>「弓兵固定ではなく、時代に合わせた防衛ユニットが出るようにしたい」</p>

<p>と思ったとします。が、少々厄介です。<br />
というのも、「時代に合わせた防衛ユニット」という表現があいまいなのです。<br />
これをプログラムするには「どういう条件で」「何が起こるのか」を具体的に定めるところから始めないといけません。</p>

<p></p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/getstarted4/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
          
            <div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 post-container">
      <div>
  
  
    
    
      
    
      
          <a href="" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_yellow1_1024x200.jpg" class="img-fluid" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/132803717@N02/27004253005/">&lsquo;Choice&rsquo; by Seán Mackey</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
      
    
  


  <h1 class="post-title" ><a href="https://gforestshade.github.io/kujira/post/getstarted3/">
  はじめてのPythonMOD 3

</a>
</h1>

  <div class="post-meta">
  <div class="post-meta-item">
    <i class="fa fa-calendar"></i>
    <time datetime="2017-07-13">13 Jul, 2017</time>

    
    &middot; 9 Minute Read
    &middot; 4126 Words
  </div>

  

  
      
      
        <div class="post-meta-item">
          <i class="fa fa-tags"></i>
          
          <a href="https://gforestshade.github.io/kujira/tags/%e3%81%af%e3%81%98%e3%82%81%e3%81%a6%e3%81%aepythonmod">はじめてのPythonMOD</a>
          &middot;
          
          <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
          
          
        </div>
      
  
  
  <div class="post-meta-item">
    &nbsp;<i class="fa fa-comment-o"></i>
    <a href="https://gforestshade.github.io/kujira/post/getstarted3/#disqus_thread" class="article-comment-link">
         Comments
    </a>
  </div>
  

</div>

</div>

      <div class="content">
  
    
      <h1 id="はじめに">はじめに</h1>

<ul>
<li><a href="https://gforestshade.github.io/kujira/post/getstarted2/">その２</a>のつづき<br /></li>
<li>関数について<br />
<br /></li>
</ul>

<h1 id="準備">準備</h1>

<p>Pythonそのものの文法を確かめるのにいちいちCiv4を起動するのでは面倒なので、<br />
小さなPythonプログラムを試せる環境を用意しましょう。<br />
あなたのコンピュータにPythonをインストールしてもよいですし、<br />
現代ではオンライン上で小さなプログラムを試せるサイトもいろいろあるので、<br />
利用させてもらってもよいでしょう。<br />
この記事では<a href="https://paiza.io/">paiza.io</a>を使うことにします。<br />
コード作成画面に入ったら、左上(緑)の言語選択ボタンから<code>Python2</code>を選択し、</p>

<pre><code class="language-python">print 1129
</code></pre>

<p>と入力して、「実行」ボタンを押します。<br />
「出力」のところに<code>1129</code>と出ていればOKです。<br />
<a href="https://gforestshade.github.io/kujira/img/paiza_0.png"><img src="https://gforestshade.github.io/kujira/img/paiza_0.png"    /></a>
</p>

<p></p>
    
  
</div>

      <p class="post-more-link">
<a href="https://gforestshade.github.io/kujira/post/getstarted3/" class="btn btn-secondary" role="button">Read more &rarr;</a>
</p>

  </div>
</div>

          
        
        
<div class="row ">
    <ul class="pagination">
      
          
          
            <li class="page-item">
              <a class="page-link" rel="next" href="https://gforestshade.github.io/kujira//page/2/">
                  Next »
              </a>
            </li>
          
      
    </ul>
</div>


      </div>
        <div class="col-xs-12 col-md-3">
          <div class="sidebar">
  <div class="card card-block">
  <h4 class="card-title">RECENTS</h4>
  <div class="card-text">
    <div class="widget">
      <ul id="recent-post">
        
        <li>
          <div class="item-thumbnail bg-inverse">
              <a href="https://gforestshade.github.io/kujira/post/howtocompile/" class="thumbnail">
              
                  
                    
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                  
              
              </a>
          </div>
            <div class="item-inner">
              <p class="item-title"><a href="https://gforestshade.github.io/kujira/post/howtocompile/" class="title">CvGameCoreDll.dllの作り方</a></p>
            </div>
        </li>
        
        <li>
          <div class="item-thumbnail bg-inverse">
              <a href="https://gforestshade.github.io/kujira/post/hajimeni/" class="thumbnail">
              
                  
                    
                    
                    
                      
                        <span style="background-image:url(https://gforestshade.github.io/kujira//banner/kujira_paleblue1024x200.png)"
                          alt="はじめに" class="thumbnail-image"></span>
                      
                    
                      
                    
                      
                    
                      
                    
                  
              
              </a>
          </div>
            <div class="item-inner">
              <p class="item-title"><a href="https://gforestshade.github.io/kujira/post/hajimeni/" class="title">はじめに</a></p>
            </div>
        </li>
        
        <li>
          <div class="item-thumbnail bg-inverse">
              <a href="https://gforestshade.github.io/kujira/post/secondpy10/" class="thumbnail">
              
                  
                    
                    
                    
                      
                    
                      
                    
                      
                        <span style="background-image:url(https://gforestshade.github.io/kujira//banner/photo_pink1_1024x200.png)"
                          alt="それからのPython 10" class="thumbnail-image"></span>
                      
                    
                      
                    
                  
              
              </a>
          </div>
            <div class="item-inner">
              <p class="item-title"><a href="https://gforestshade.github.io/kujira/post/secondpy10/" class="title">それからのPython 10</a></p>
            </div>
        </li>
        
        <li>
          <div class="item-thumbnail bg-inverse">
              <a href="https://gforestshade.github.io/kujira/post/secondpy9/" class="thumbnail">
              
                  
                    
                    
                    
                      
                    
                      
                    
                      
                        <span style="background-image:url(https://gforestshade.github.io/kujira//banner/photo_pink1_1024x200.png)"
                          alt="それからのPython 9" class="thumbnail-image"></span>
                      
                    
                      
                    
                  
              
              </a>
          </div>
            <div class="item-inner">
              <p class="item-title"><a href="https://gforestshade.github.io/kujira/post/secondpy9/" class="title">それからのPython 9</a></p>
            </div>
        </li>
        
        <li>
          <div class="item-thumbnail bg-inverse">
              <a href="https://gforestshade.github.io/kujira/post/secondpy8/" class="thumbnail">
              
                  
                    
                    
                    
                      
                    
                      
                    
                      
                        <span style="background-image:url(https://gforestshade.github.io/kujira//banner/photo_pink1_1024x200.png)"
                          alt="それからのPython 8" class="thumbnail-image"></span>
                      
                    
                      
                    
                  
              
              </a>
          </div>
            <div class="item-inner">
              <p class="item-title"><a href="https://gforestshade.github.io/kujira/post/secondpy8/" class="title">それからのPython 8</a></p>
            </div>
        </li>
        
        <li>
          <div class="item-thumbnail bg-inverse">
              <a href="https://gforestshade.github.io/kujira/post/secondpy7/" class="thumbnail">
              
                  
                    
                    
                    
                      
                    
                      
                    
                      
                        <span style="background-image:url(https://gforestshade.github.io/kujira//banner/photo_pink1_1024x200.png)"
                          alt="それからのPython 7" class="thumbnail-image"></span>
                      
                    
                      
                    
                  
              
              </a>
          </div>
            <div class="item-inner">
              <p class="item-title"><a href="https://gforestshade.github.io/kujira/post/secondpy7/" class="title">それからのPython 7</a></p>
            </div>
        </li>
        
        <li>
          <div class="item-thumbnail bg-inverse">
              <a href="https://gforestshade.github.io/kujira/post/secondpy_ex3/" class="thumbnail">
              
                  
                    
                    
                    
                      
                    
                      
                    
                      
                    
                      
                        <span style="background-image:url(https://gforestshade.github.io/kujira//banner/green1024x200.png)"
                          alt="付録：継承２" class="thumbnail-image"></span>
                      
                    
                  
              
              </a>
          </div>
            <div class="item-inner">
              <p class="item-title"><a href="https://gforestshade.github.io/kujira/post/secondpy_ex3/" class="title">付録：継承２</a></p>
            </div>
        </li>
        
        <li>
          <div class="item-thumbnail bg-inverse">
              <a href="https://gforestshade.github.io/kujira/post/secondpy_ex2/" class="thumbnail">
              
                  
                    
                    
                    
                      
                    
                      
                    
                      
                    
                      
                        <span style="background-image:url(https://gforestshade.github.io/kujira//banner/green1024x200.png)"
                          alt="付録：継承１" class="thumbnail-image"></span>
                      
                    
                  
              
              </a>
          </div>
            <div class="item-inner">
              <p class="item-title"><a href="https://gforestshade.github.io/kujira/post/secondpy_ex2/" class="title">付録：継承１</a></p>
            </div>
        </li>
        
      </ul>
    </div>
  </div>
</div>

  





  



<div class="card card-block">
  <h4 class="card-title">TAGS</h4>
  <div class="card-text">
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://gforestshade.github.io/kujira/tags/c&#43;&#43;">C&#43;&#43;</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://gforestshade.github.io/kujira/tags/mmd_to_civ4">MMD_to_CIV4</a>
            <span class="category-list-count">2</span>
          </li>
        
          <li>
            <a href="https://gforestshade.github.io/kujira/tags/%e3%81%9d%e3%82%8c%e3%81%8b%e3%82%89%e3%81%aepython">それからのPython</a>
            <span class="category-list-count">10</span>
          </li>
        
          <li>
            <a href="https://gforestshade.github.io/kujira/tags/%e3%81%af%e3%81%98%e3%82%81%e3%81%a6%e3%81%aepythonmod">はじめてのPythonMOD</a>
            <span class="category-list-count">7</span>
          </li>
        
          <li>
            <a href="https://gforestshade.github.io/kujira/tags/%e3%81%af%e3%81%98%e3%82%81%e3%81%ab">はじめに</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://gforestshade.github.io/kujira/tags/%e3%82%b3%e3%83%a9%e3%83%a0">コラム</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://gforestshade.github.io/kujira/tags/%e4%bb%98%e9%8c%b2">付録</a>
            <span class="category-list-count">3</span>
          </li>
        
          <li>
            <a href="https://gforestshade.github.io/kujira/tags/%e7%9b%ae%e6%ac%a1">目次</a>
            <span class="category-list-count">1</span>
          </li>
        
          <li>
            <a href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
            <span class="category-list-count">20</span>
          </li>
        
      </ul>
    </div>
  </div>
</div>




  

</div>

        </div>
    </div>

  </div>

      <footer class="footer hidden-print">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-md-9">
        <p class="text-xs-center m-a-0 p-a-0">
          &copy; 2018 gforest_shade; licenced by <a href="https://creativecommons.org/licenses/by/4.0/deed.ja">CC-BY-4.0</a>
        </p>
        <p class="text-xs-center  m-a-0 p-a-0">
            
          <span class="p-l-1 p-r-1">
                <a href="https://gforestshade.github.io/kujira/page/license/">LICENSE</a>
              </span>
                
        </p>

      </div>
    </div>
  </div>
</footer>
    <script src="https://gforestshade.github.io/kujira/assets/js/jquery.min.js"></script>
<script src="https://gforestshade.github.io/kujira/assets/js/tether.min.js"></script>
<script src="https://gforestshade.github.io/kujira/assets/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>


<script>hljs.initHighlightingOnLoad();</script>


<script id="dsq-count-scr" src="//kujira.disqus.com/count.js" async></script>


<script src="https://gforestshade.github.io/kujira/assets/js/script.js"></script>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-111798374-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>



  </body>
</html>

