<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>それからのPython 1  &middot; Kujira, Civ4 Mod Blog</title>
    


<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5V7SPDZ');</script>




    <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="それからのPython, 講座, ">


<meta property="og:title" content="それからのPython 1  &middot; Kujira, Civ4 Mod Blog ">
<meta property="og:site_name" content="Kujira, Civ4 Mod Blog"/>
<meta property="og:url" content="https://gforestshade.github.io/kujira/post/secondpy1/" />
<meta property="og:locale" content="ja-JP">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2017-10-17T00:00:00Z" />
<meta property="og:article:modified_time" content="2017-10-17T00:00:00Z" />

  
    
<meta property="og:article:tag" content="それからのPython">
    
<meta property="og:article:tag" content="講座">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@" />
<meta name="twitter:title" content="それからのPython 1" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="https://gforestshade.github.io/kujira/post/secondpy1/" />
<meta name="twitter:domain" content="https://gforestshade.github.io/kujira/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "それからのPython 1",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2017-10-17",
    "description": "",
    "wordCount":  3696 
  }
</script>




<link rel="canonical" href="https://gforestshade.github.io/kujira/post/secondpy1/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://gforestshade.github.io/touch-icon-144-precomposed.png">
<link href="https://gforestshade.github.io/favicon.ico" rel="icon">

<meta name="generator" content="Hugo 0.101.0" />

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous" />
<link href="https://stackpath.bootstrapcdn.com/bootswatch/4.1.0/materia/bootstrap.min.css" rel="stylesheet" integrity="sha384-BJWCnw/x/9+kQsLGLQDoCX2oJg7j1LjkOfPZWtUPTJ0tn00hYIB5r9u7KnGJxFnY" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow-night-eighties.min.css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

<link rel="stylesheet" href="https://gforestshade.github.io/kujira/css/style.css" />


    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    </head>

    <body id="index" class="archive">
      


<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V7SPDZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>




      <nav class="navbar navbar-expand-md navbar-dark px-5 navbar-color">
        <a class="navbar-brand" href="https://gforestshade.github.io/kujira/">Kujira, Civ4 Mod Blog</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse"
                data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false"
                aria-label="Toggle navigation">
          &#9776;
        </button>
        <div class="mx-md-4"></div>
        <div class="collapse navbar-collapse" id="navbarNav">
          <div class="nav navbar-nav">
            
            
              <a class="nav-item nav-link menu-item mx-md-2" href="https://gforestshade.github.io/kujira/post/hajimeni/">
              <i class='fa fa-star'></i>
              <span>はじめに</span>
              </a>
            
              <a class="nav-item nav-link menu-item mx-md-2" href="https://gforestshade.github.io/kujira/page/license/">
              <i class='fa fa-file'></i>
              <span>LICENSE</span>
              </a>
            
          </div>
        </div>
      </nav>
      <div class="m-3"></div>

<div id="whole">
  <div class="leftbar">
    




<div class="card m-3">
  <div class="card-header" role="tab">
    
    <h5 class="mb-0"><a class="collapsed" data-toggle="collapse" href="#collist_0" role="button">目次</a></h5>
  </div>
  <div role="tabpanel" id="collist_0" class="collapse show">
    <div class="list-group list-group-flush">
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/hajimeni/">はじめに</a>
      
    </div>
    <div class="card-footer p-2"></div>
  </div>
</div>



<div class="card m-3">
  <div class="card-header" role="tab">
    
    <h5 class="mb-0"><a class="collapsed" data-toggle="collapse" href="#collist_1" role="button">Python</a></h5>
  </div>
  <div role="tabpanel" id="collist_1" class="collapse show">
    <div class="list-group list-group-flush">
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/getstarted1/">はじめてのPythonMOD 1</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/getstarted2/">はじめてのPythonMOD 2</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/getstarted3/">はじめてのPythonMOD 3</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/getstarted4/">はじめてのPythonMOD 4</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/getstarted5/">はじめてのPythonMOD 5</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/getstarted6/">はじめてのPythonMOD 6</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/getstarted7/">はじめてのPythonMOD 7</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/secondpy1/">それからのPython 1</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/secondpy2/">それからのPython 2</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/secondpy3/">それからのPython 3</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/secondpy4/">それからのPython 4</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/secondpy5/">それからのPython 5</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/secondpy6/">それからのPython 6</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/secondpy7/">それからのPython 7</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/secondpy8/">それからのPython 8</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/secondpy9/">それからのPython 9</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/secondpy10/">それからのPython 10</a>
      
    </div>
    <div class="card-footer p-2"></div>
  </div>
</div>



<div class="card m-3">
  <div class="card-header" role="tab">
    
    <h5 class="mb-0"><a data-toggle="collapse" href="#collist_2" role="button">XML</a></h5>
  </div>
  <div role="tabpanel" id="collist_2" class="collapse">
    <div class="list-group list-group-flush">
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4unitinfos/">CIV4UnitInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4unitclassinfos/">CIV4UnitClassInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4buildinginfos/">CIV4BuildingInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/keyichiran/">XMLキー一覧_new</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4leaderheadinfos/">CIV4LeaderHeadInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4civilizationinfos/">Civ4CivilizationInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4civicinfos/">Civ4CivicInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/glossary/">用語集</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4techinfos/">Civ4TechInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4traitinfos/">Civ4TraitInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4buildingclassinfos/">CIV4BuildingClassInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4promotioninfos/">CIV4PromotionInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4projectinfos/">CIV4ProjectInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4handicapinfo/">CIV4HandicapInfo.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4bonusinfos/">CIV4BonusInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4improvementinfos/">CIV4ImprovementInfos.xml</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/civ4gamespeedinfo/">CIV4GameSpeedInfo.xml</a>
      
    </div>
    <div class="card-footer p-2"></div>
  </div>
</div>



<div class="card m-3">
  <div class="card-header" role="tab">
    
    <h5 class="mb-0"><a data-toggle="collapse" href="#collist_3" role="button">C&#43;&#43;</a></h5>
  </div>
  <div role="tabpanel" id="collist_3" class="collapse">
    <div class="list-group list-group-flush">
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/howtocompile/">CvGameCoreDll.dllの作り方(2018-02)</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/howtocompiledoc/">CvGameCoreDll.dllの作り方(2018-05)</a>
      
    </div>
    <div class="card-footer p-2"></div>
  </div>
</div>



<div class="card m-3">
  <div class="card-header" role="tab">
    
    <h5 class="mb-0"><a data-toggle="collapse" href="#collist_4" role="button">コラム</a></h5>
  </div>
  <div role="tabpanel" id="collist_4" class="collapse">
    <div class="list-group list-group-flush">
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/power/">通常電力、きたない電力</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/movement/">移動力と地形コスト</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/irrigation/">灌漑</a>
      
    </div>
    <div class="card-footer p-2"></div>
  </div>
</div>



<div class="card m-3">
  <div class="card-header" role="tab">
    
    <h5 class="mb-0"><a data-toggle="collapse" href="#collist_5" role="button">MMD_to_CIV4</a></h5>
  </div>
  <div role="tabpanel" id="collist_5" class="collapse">
    <div class="list-group list-group-flush">
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/mmd_to_nif/">MMDモデルをCiv4に登場させたい</a>
      
      <a class="list-group-item list-group-item-action" href="https://gforestshade.github.io/kujira/post/nifanimation/">MMDモデルをCiv4上で動かしたい</a>
      
    </div>
    <div class="card-footer p-2"></div>
  </div>
</div>



 







  </div>
  <div class="centerbar">
    <div class="container-fluid">
            <div class="card card-body my-3">
        <div class="article-title">
          

  
    
    
      
    
      
    
      
          <a href="https://gforestshade.github.io/kujira/post/secondpy1/" itemprop="url">
            <img src="https://gforestshade.github.io/kujira/banner/photo_pink1_1024x200.png" class="img-fluid border rounded" alt="Generic responsive image">
          </a>
          
            <p class="banner-license">banner: <a href="https://www.flickr.com/photos/135366503@N05/31176873090/">&lsquo;I love nature and nature loves me &hellip;..&rsquo; by CLAUDIA DEA</a> (トリミング) under a <a href="https://creativecommons.org/licenses/by/2.0/deed.ja">Creative Commons Attribution 2.0</a>.</p>
          
      
    
      
    
      
    
  
  <div class="py-3" ></div>


          <h1 class="article-title">それからのPython 1</h1>
        </div>
        <div class="article-info text-muted d-flex flex-wrap align-items-center align-items-end flex-row justify-content-end mt-1 mb-3">
          <p><time datetime="2017-10-17">2017-10-17 00:00</time></p>
          
          <p>3696  Words</p>
          
          

          
          <p>
            カテゴリ：
            
            <a class="btn btn-sm btn-outline-primary" href="https://gforestshade.github.io/kujira/categories/python">Python</a>
            
          </p>
          

          
          <p>
            タグ：
            
            <a class="btn btn-sm btn-outline-info" href="https://gforestshade.github.io/kujira/tags/%e3%81%9d%e3%82%8c%e3%81%8b%e3%82%89%e3%81%aepython">それからのPython</a>
            
            <a class="btn btn-sm btn-outline-info" href="https://gforestshade.github.io/kujira/tags/%e8%ac%9b%e5%ba%a7">講座</a>
            
          </p>
          
        </div>
        <div class="article">
          <h1 id="はじめに">はじめに</h1>
<h2 id="これは何か">これは何か</h2>
<p>これは、<br>
「はじめてのPythonMOD」シリーズの続きです。<br>
もうちょっとPythonの書き方について勉強して、<br>
より思い通りに記述できるようになろう、というのが大きな目的です。</p>
<h2 id="これは何でないか">これは何でないか</h2>
<p>これは、前シリーズよりもさらに技術的な解説、Pythonの文法の解説に偏重しています。<br>
また、「はじめてのPythonMOD」程度のMOD制作経験を前提としています。<br>
コピペですぐ動くコードはあまりないかもしれません。</p>
<h1 id="準備">準備</h1>
<p>最小構成からスタートしましょう。</p>
<h2 id="civilizationivini">CivilizationIV.ini</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#a6e22e">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; Enable the logging system</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; Documents\My Games\Beyond the Sword(J)\Logs</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">LoggingEnabled</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; Enable synchronization logging</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">SynchLog</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">; Overwrite old network and message logs</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">OverwriteLogs</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">1</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span></code></pre></div><p>ログファイルが出力されるようにしておきます。</p>
<h2 id="フォルダ構成">フォルダ構成</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plain" data-lang="plain"><span style="display:flex;"><span>└─kujira_var
</span></span><span style="display:flex;"><span>    └─Assets
</span></span><span style="display:flex;"><span>        └─Python
</span></span><span style="display:flex;"><span>            │─KujiraEventManager.py
</span></span><span style="display:flex;"><span>            │
</span></span><span style="display:flex;"><span>            └─Entrypoints
</span></span><span style="display:flex;"><span>                 └─CvEventInterface.py
</span></span></code></pre></div><h2 id="cveventinterfacepy">CvEventInterface.py</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Sid Meier&#39;s Civilization 4</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Copyright Firaxis Games 2005</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># CvEventInterface.py</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># These functions are App Entry Points from C++</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># WARNING: These function names should not be changed</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># WARNING: These functions can not be placed into a class</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># No other modules should import this</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> CvUtil
</span></span><span style="display:flex;"><span><span style="color:#75715e"># import CvEventManager</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> KujiraEventManager
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> CvPythonExtensions <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># normalEventManager = CvEventManager.CvEventManager()</span>
</span></span><span style="display:flex;"><span>myEventManager <span style="color:#f92672">=</span> KujiraEventManager<span style="color:#f92672">.</span>MyEventManager()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getEventManager</span>():
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> myEventManager
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">onEvent</span>(argsList):
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#39;Called when a game event happens - return 1 if the event was consumed&#39;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> getEventManager()<span style="color:#f92672">.</span>handleEvent(argsList)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">applyEvent</span>(argsList):
</span></span><span style="display:flex;"><span>	context, playerID, netUserData, popupReturn <span style="color:#f92672">=</span> argsList
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> getEventManager()<span style="color:#f92672">.</span>applyEvent(argsList)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">beginEvent</span>(context, argsList<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> getEventManager()<span style="color:#f92672">.</span>beginEvent(context, argsList)
</span></span></code></pre></div><h2 id="kujiraeventmanagerpy">KujiraEventManager.py</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> CvPythonExtensions <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> CvEventManager
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> CvUtil
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyEventManager</span>(CvEventManager<span style="color:#f92672">.</span>CvEventManager, object):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">onGameStart</span>(self, argsList):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;Called at the start of the game&#39;</span>
</span></span><span style="display:flex;"><span>        super(self<span style="color:#f92672">.</span>__class__, self)<span style="color:#f92672">.</span>onGameStart(argsList)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">##########</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        CvUtil<span style="color:#f92672">.</span>pyPrint(<span style="color:#e6db74">&#34;Hello, Python!&#34;</span>)
</span></span></code></pre></div><h2 id="ためす">ためす</h2>
<p>実行してゲームを開始し(開始さえすればそのあとすぐに終了して構いません)、<br>
PythonDbg.log(日本語パッケージ版の場合Documents\My Games\Beyond the Sword(J)\Logs にあります)に<br>
ちゃんと出力されているか確認しましょう。<br>
<a href="https://gforestshade.github.io/kujira/img/kujira_var_10.png"><img src="https://gforestshade.github.io/kujira/img/kujira_var_10.png"    /></a>
<br>
いいですね。</p>
<h1 id="変数">変数</h1>
<p>いきなりですが、ちょっと変えてゲームを開始してみましょう。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hello, Python!&#34;</span>
</span></span><span style="display:flex;"><span>        CvUtil<span style="color:#f92672">.</span>pyPrint(a)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><p>さっきと同じく、PythonDbg.logに<code>PY:Hello, Python!</code>と出力されています。</p>
<p>このように、プログラムではデータに名前を付けてとっておいて、<br>
後からその名前で中のデータを参照できるのですが、<br>
そのうちの<code>a</code>を<strong>変数</strong>、その中に納まっているデータを<strong>値</strong>と呼びます。<br>
そして<code>a = &quot;Hello, Python!&quot;</code>のように、<code>変数名 = 値</code>の形になっている<strong>文</strong>を<strong>代入</strong>と呼びます。<br>
この場合「<code>a</code>という名前の変数に<code>&quot;Hello, Python!&quot;</code>という値を代入している」ということになります。</p>
<p>代入以外の場所に書かれている変数は中身の値を表します。<br>
いま<code>a</code>の中身は代入によって<code>&quot;Hello, Python!&quot;</code>ですから、<br>
<code>CvUtil.pyPrint(a)</code>は<code>CvUtil.pyPrint(&quot;Hello, Python!&quot;)</code>と同じ意味を表すことになります。</p>
<h2 id="型">型</h2>
<p><strong>値</strong>にはデータの性質によって種類があります。<br>
たとえば&hellip;</p>
<ul>
<li>数値型 <code>a = 123</code></li>
<li>文字列型 <code>a = &quot;123&quot;</code></li>
<li>リスト型 <code>a = [1,2,3]</code></li>
<li>ブール型 <code>a = True</code></li>
</ul>
<p>&hellip;&hellip;&hellip;&hellip;などなど、いろいろあります。</p>
<h2 id="型の一致">型の一致</h2>
<p><strong>型</strong>の話で大事なのは、<em><strong>型の種類があっていないと関数は基本的に失敗する</strong></em>ということです。</p>
<p>試してみましょう。文字列型の代わりに数値型を使って<code>CvUtil.pyPrint(a)</code>してみます。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1234</span>
</span></span><span style="display:flex;"><span>        CvUtil<span style="color:#f92672">.</span>pyPrint(a) <span style="color:#75715e"># 数値型で呼び出す</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><p>これでゲームを開始してみてください。</p>
<p>PythonDbg.logをいくら眺めてみても、「1234」が出力されている様子はありません。<br>
かわりにPythonErr.logを見てみると、&ldquo;KujiraEventManager&quot;の12行目、<br>
すなわち<code>CvUtil.pyPrint(a)</code>と呼び出したところで<br>
エラーになってしまっていることがわかります。</p>
<p>かわりにこうすべきです。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1234&#34;</span>
</span></span><span style="display:flex;"><span>        CvUtil<span style="color:#f92672">.</span>pyPrint(a) <span style="color:#75715e"># 文字列型で呼び出す</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><p>ゲームを開始して、どういう動作になるか自分で確かめてみましょう。</p>
<h2 id="例外もある">例外もある</h2>
<p>先に<em><strong>基本的に</strong></em>と書いたのは、まれに融通が利く場面もあるからです。<br>
その筆頭がprint文です。どんな型の変数を指定しても、ある程度はいい感じに出力してくれます。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        var1 <span style="color:#f92672">=</span> <span style="color:#ae81ff">1234</span>
</span></span><span style="display:flex;"><span>        var2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1234&#34;</span>
</span></span><span style="display:flex;"><span>        var3 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>        print var1
</span></span><span style="display:flex;"><span>        print var2
</span></span><span style="display:flex;"><span>        print var3
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><p>ゲームを開始して、どういう動作になるか確かめましょう。</p>
<h2 id="でも基本はだめ">でも基本はだめ</h2>
<p>しかし、融通が利くことはまれです。<br>
基本的には型があっていないとだめです。<br>
例えば、同じようなプログラムでも、片方はOKでもう片方はエラーです。</p>
<p>数値型同士でないと自由に計算はできません。<br>
どちらがエラーになるか、予想して確かめましょう。<br>
(エラーになったことを確認するにはどうすればよかったでしょうか？)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        tokugawa <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>        saradin <span style="color:#f92672">=</span> <span style="color:#ae81ff">34</span>
</span></span><span style="display:flex;"><span>        answer <span style="color:#f92672">=</span> tokugawa <span style="color:#f92672">*</span> saradin
</span></span><span style="display:flex;"><span>        print answer
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        ragunaru <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;12&#34;</span>
</span></span><span style="display:flex;"><span>        monte <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;34&#34;</span>
</span></span><span style="display:flex;"><span>        answer <span style="color:#f92672">=</span> ragunaru <span style="color:#f92672">*</span> monte
</span></span><span style="display:flex;"><span>        print answer
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><br>
<p>あるいは、ややこしいことに、同じ書き方でも動作が違ってくるような場合もあります。<br>
下の2つはどちらもエラーにはなりません。<br>
両方実行してみて、出力結果を見比べ、どうなっているか考えてみましょう。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        tokugawa <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>        saradin <span style="color:#f92672">=</span> <span style="color:#ae81ff">34</span>
</span></span><span style="display:flex;"><span>        answer <span style="color:#f92672">=</span> tokugawa <span style="color:#f92672">+</span> saradin
</span></span><span style="display:flex;"><span>        print answer
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        ragunaru <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;12&#34;</span>
</span></span><span style="display:flex;"><span>        monte <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;34&#34;</span>
</span></span><span style="display:flex;"><span>        answer <span style="color:#f92672">=</span> ragunaru <span style="color:#f92672">+</span> monte
</span></span><span style="display:flex;"><span>        print answer
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><br>
<p>そして、違う型同士の値を足し算することはできません。<br>
エラーになることを確かめてみましょう。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        pakaru <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;12&#34;</span>
</span></span><span style="display:flex;"><span>        ramusesu <span style="color:#f92672">=</span> <span style="color:#ae81ff">34</span>
</span></span><span style="display:flex;"><span>        answer <span style="color:#f92672">=</span> pakaru <span style="color:#f92672">+</span> ramusesu <span style="color:#75715e"># エラー！</span>
</span></span><span style="display:flex;"><span>        print answer
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><h1 id="文字列と数値と">文字列と、数値と。</h1>
<p>でも、作っているMODによっては、数値型で計算した後、<br>
計算結果を文字列に混ぜて表示したいこともあるかもしれません。<br>
そこでこのようにしてしましたが、うまくいきません&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        message1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ato &#34;</span>
</span></span><span style="display:flex;"><span>        turnleft <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>  <span style="color:#75715e"># 全部で10ターンあるうちの2ターン消化した</span>
</span></span><span style="display:flex;"><span>        message2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34; ta-n desu!&#34;</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># &#34;ato 8 ta-n desu!&#34;という文字列の値をつくりたい！</span>
</span></span><span style="display:flex;"><span>        message <span style="color:#f92672">=</span> message1 <span style="color:#f92672">+</span> turnleft <span style="color:#f92672">+</span> message2 <span style="color:#75715e"># でも型があってないからエラー。</span>
</span></span><span style="display:flex;"><span>        print message
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><p>文字列を足し算して連結しようとしたところで、<code>turnleft</code>の値が数値型のため失敗してしまいます。<br>
そこで、文字列型へと変換してあげましょう。<code>str()</code>という関数があり、<br>
引数を文字列型に変換したものを返してくれます。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        message1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ato &#34;</span>
</span></span><span style="display:flex;"><span>        turnleft <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>  <span style="color:#75715e"># 全部で10ターンあるうちの2ターン消化した</span>
</span></span><span style="display:flex;"><span>        message2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34; ta-n desu!&#34;</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># &#34;ato 8 ta-n desu!&#34;という文字列の値をつくりたい！</span>
</span></span><span style="display:flex;"><span>        message <span style="color:#f92672">=</span> message1 <span style="color:#f92672">+</span> str(turnleft) <span style="color:#f92672">+</span> message2 <span style="color:#75715e"># 文字列型の値に変換してから足し算。</span>
</span></span><span style="display:flex;"><span>        print message
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><p>起動して、PythonDbg.logに<code>ato 8 ta-n desu!</code>と書き込まれていることを確認しましょう。</p>
<h1 id="ゲーム画面に表示してみる">ゲーム画面に表示してみる</h1>
<p>文字列の値が用意できれば、画面上にメッセージとして出すことができるようになります。<br>
<code>CyInterface().addImmediateMessage(表示したい文字列の値, &quot;&quot;)</code>です。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        message1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ato &#34;</span>
</span></span><span style="display:flex;"><span>        turnleft <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>        message2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34; ta-n desu!&#34;</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        message <span style="color:#f92672">=</span> message1 <span style="color:#f92672">+</span> str(turnleft) <span style="color:#f92672">+</span> message2
</span></span><span style="display:flex;"><span>        CyInterface()<span style="color:#f92672">.</span>addImmediateMessage(message, <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><p>ゲームを開始して&hellip;<br>
<a href="https://gforestshade.github.io/kujira/img/civss_kujira_var_20.png"><img src="https://gforestshade.github.io/kujira/img/civss_kujira_var_20.png"    /></a>
<br>
いいですね！</p>
<h1 id="フォーマット文字列">フォーマット文字列</h1>
<p>足し算で連結する方法がうまくいきましたが、ややコードが見づらいですしわかりづらいです。<br>
&ldquo;ato (turnleftの値) ta-n desu!&ldquo;みたいにかけたらいいのに&hellip;&hellip;&hellip;&hellip;<br>
というわけで、<strong>フォーマット文字列</strong>という機能がそれを実現してくれます。<br>
<code>%d</code>と<code>%</code>を使って<code>message = &quot;ato %d ta-n desu!&quot; % turnleft</code>のように書くと、<br>
<code>%d</code>のある位置に数値型の変数、つまり<code>turnleft</code>の値が文字列の一部として埋め込まれます。</p>
<p>これを用いると、前後の文字列を一旦ためておく必要もなくなり、次のようにすっきりします。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ログファイルに出力する</span>
</span></span><span style="display:flex;"><span>        turnleft <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>        message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ato </span><span style="color:#e6db74">%d</span><span style="color:#e6db74"> ta-n desu!&#34;</span> <span style="color:#f92672">%</span> turnleft
</span></span><span style="display:flex;"><span>        CyInterface()<span style="color:#f92672">.</span>addImmediateMessage(message, <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>
</span></span></code></pre></div><h1 id="文字列と数値とそれから日本語と">文字列と、数値と、それから日本語と</h1>
<p>ここまでわかると、どうせなら「あと8ターンです！」と日本語で表示したくなるのですが、<br>
今までの方法をそのまま流用してもうまくいきません。<br>
それもそのはず、日本語の文字列は型が違うのです。</p>
<p>日本語の文字列は<strong>Unicode文字列型</strong>という型になり、<code>u&quot;日本語&quot;</code>と書きます。<br>
ただひとつ注意点があり、この書き方でソースコード中に日本語を書き込むとき、<br>
「その.pyファイルはどの文字コードで保存されているか」を1行目に明示的に示す必要があります。<br>
普通にしていればおそらくshift_jisという文字コードになりますから、<br>
(もちろん、わかっている方で、euc_jpやutf-8をお使いの方は読み替えてください)<br>
1行目に<code># -*- coding: shift_jis -*-</code>と書き込みます。</p>
<p>そのうえで、フォーマット文字列の仕組みを使い、<br>
<code>message = u&quot;あと%dターンです！&quot; % turnleft</code>とすればよいです。</p>
<p>ファイル全体で&hellip;</p>
<pre tabindex="0"><code># -*- coding: shift_jis -*-
from CvPythonExtensions import *
import CvEventManager
import CvUtil

class MyEventManager(CvEventManager.CvEventManager, object):

    def onGameStart(self, argsList):
        &#39;Called at the start of the game&#39;
        super(self.__class__, self).onGameStart(argsList)
        ##########
        # ログファイルに出力する
        turnleft = 10 - 2
        
        message = u&#34;あと%dターンです！&#34; % turnleft
        print message
        
        CyInterface().addImmediateMessage(message, &#34;&#34;)
</code></pre><p>こうなります。<br>
このコードではUnicode文字列に対してprint文を使っていますが、その場合もよしなにやってくれて<br>
正しくPythonDbg.logに日本語が書き込まれるので、覗いてみてください。</p>
<p>さて、ゲームを開始して&hellip;<br>
<a href="https://gforestshade.github.io/kujira/img/civss_kujira_var_21.png"><img src="https://gforestshade.github.io/kujira/img/civss_kujira_var_21.png"    /></a>
<br>
できました！</p>
        </div>
        <div class="col-12">
  
</div>

      </div>

    </div>
  </div>

<footer id="contentinfo" class="footer">
  <address id="about" class="vcard body ml-2">
     <a href="https://gforestshade.github.io/kujira/">Kujira, Civ4 Mod Blog</a>  &copy; 2022 gforest_shade; licenced by <a href="https://creativecommons.org/licenses/by/4.0/deed.ja">CC-BY-4.0</a>
  </address>
</footer>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>

